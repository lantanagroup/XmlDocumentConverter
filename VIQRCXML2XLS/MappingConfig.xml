<?xml version="1.0" encoding="utf-8" ?>
<config tableName="record">
  <!--  Document Details-->
  <column name="relatedTemplateId" heading="Related Template ID">/cda:ClinicalDocument/cda:templateId/@root</column>
  <column name="documentId">/cda:ClinicalDocument/cda:id/@root</column>
  <column name="code">/cda:ClinicalDocument/cda:code/@code</column>
  <column name="codeSystem">/cda:ClinicalDocument/cda:code/@codeSystem</column>
  <column name="codeSystemName">/cda:ClinicalDocument/cda:code/@codeSystemName</column>
  <column name="codeDisplay">/cda:ClinicalDocument/cda:code/@displayName</column>
  <column name="title">/cda:ClinicalDocument/cda:title</column>
  <column name="effectiveTime">/cda:ClinicalDocument/cda:effectiveTime/@value</column>
  <column name="languageCode">/cda:ClinicalDocument/cda:languageCode/@code</column>
  <column name="confidentialityCode">/cda:ClinicalDocument/cda:confidentialityCode/@code</column>
  <column name="confidentialityCodeSystem">/cda:ClinicalDocument/cda:confidentialityCode/@codeSystem</column>
  <column name="confidentialityCodeSystemName">/cda:ClinicalDocument/cda:confidentialityCode/@codeSystemName</column>
  
  <!--  Patient Details-->
  <column name="patientId">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:id/@root</column>
  <column name="patientIdExtsion">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:id/@extension</column>
  <column name="patientName">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:name</column>
  <column name="dob">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime</column>
  <column name="sex">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode</column>
  <column name="race">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:raceCode</column>
  <column name="ethnicity">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:ethnicGroupCode</column>
  <column name="patientLanguage">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient/cda:languageCommunication</column>
  <column name="patientAddrStreetName">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:addr/cda:streetAddressLine</column>
  <column name="patientAddrCity">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:addr/cda:city</column>
  <column name="patientAddrState">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:addr/cda:state</column>
  <column name="patientAddrZip">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:addr/cda:postalCode</column>
  <column name="patientPhone">/cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:telecom/@value</column>

  <!--  Custodian Details-->
  <column name="custodianId">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id/@root</column>
  <column name="custodianExtension">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id/@extension</column>
  <column name="custodianName">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:name</column>
  <column name="custodianStreet">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:addr/cda:streetAddressLine</column>
  <column name="custodianCity">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:addr/cda:city</column>
  <column name="custodianState">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:addr/cda:state</column>
  <column name="custodianPostalCode">/cda:ClinicalDocument/cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:addr/cda:postalCode</column>

  <!--  Information Recipient Details-->
  <column name="informationRecipientId">/cda:ClinicalDocument/cda:informationRecipient/cda:intendedRecipient/cda:id/@root</column>
  <column name="informationRecipientExtension">/cda:ClinicalDocument/cda:informationRecipient/cda:intendedRecipient/cda:id/@extension</column>

  <!--  Legal Authenticator Details-->
  <column name="legalAuthenticatorTime">/cda:ClinicalDocument/cda:legalAuthenticator/cda:time</column>
  <column name="legalAuthenticatorCode">/cda:ClinicalDocument/cda:legalAuthenticator/cda:signatureCode/@code</column>
  <column name="legalAuthenticatorIdRoot">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:id/@root</column>
  <column name="legalAuthenticatorIdExtension">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:id/@extension</column>
  <column name="legalAuthenticatorGivenName">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given</column>
  <column name="legalAuthenticatorFamilyName">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family</column>
  <column name="legalAuthenticatorStreet">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:addr/cda:streetAddressLine</column>
  <column name="legalAuthenticatorCity">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:addr/cda:city</column>
  <column name="legalAuthenticatorState">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:addr/cda:state</column>
  <column name="legalAuthenticatorPostalCode">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:addr/cda:postalCode</column>
  <column name="legalAuthenticatorCountry">/cda:ClinicalDocument/cda:legalAuthenticator/cda:assignedEntity/cda:addr/cda:country</column>

  <!--  Participant Details-->
  <column name="participantIdRoot">/cda:ClinicalDocument/cda:participant/cda:associatedEntity/cda:id/@root</column>
  <column name="participantIdExtension">/cda:ClinicalDocument/cda:participant/cda:associatedEntity/cda:id/@extension</column>

  <!--  Service Event Details-->
  <column name="serviceEventStartDateTime">/cda:ClinicalDocument/cda:documentationOf/cda:serviceEvent/cda:effectiveTime/cda:low</column>
  <column name="serviceEventEndDateTime">/cda:ClinicalDocument/cda:documentationOf/cda:serviceEvent/cda:effectiveTime/cda:high</column>
  <column name="serviceEventPerformerId">/cda:ClinicalDocument/cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:id/@root</column>
  <column name="serviceEventPerformerIdExtension">/cda:ClinicalDocument/cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:id/@extension</column>
  <column name="serviceEventOrganizationId">/cda:ClinicalDocument/cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:representedOrganization/cda:id/@root</column>
  <column name="serviceEventOrganizationIdExtension">/cda:ClinicalDocument/cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:representedOrganization/cda:id/@extension</column>

  <!--  Reporting Parameters Section Tempalte Id 2.16.840.1.113883.10.20.17.2.1-->
  <column name="ReportParamTemplateId">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:templateId/@root</column>
  <column name="ReportParamIdExtension">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:templateId/@extension</column>
  <column name="ReportParamCode">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:code/@code</column>
  <column name="ReportParamCodeSystem">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:code/@codeSystem</column>
  <column name="ReportParamTitle">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:title</column>
  <column name="ReportParamText">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:text</column>
  <column name="ReportParamActTempId">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:templateId/@root</column>
  <column name="ReportParamActTempIdExtension">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:templateId/@extension</column>
  <column name="ReportParamActId">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/id</column>
  <column name="ReportParamActCode">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:code/@code</column>
  <column name="ReportParamActCodeSystem">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:code/@codeSystem</column>
  <column name="ReportParamActDisplayName">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:code/@displayName</column>
  <column name="ReportParamActStartDateTime">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:effectiveTime/cda:low</column>
  <column name="ReportParamActEndDateTime">/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.17.2.1']/cda:entry/cda:act/cda:effectiveTime/cda:high</column>

  <!-- Patient Data Section Template Id 2.16.840.1.113883.10.20.24.2.1 -->
  <group tableName="PatientData" columnPrefix="Patient Data" context="/cda:ClinicalDocument">
    <column name="PatientDataTemplateId">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.1']/cda:templateId/@root</column>
    <column name="PatientDataIdExtension">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.1']/cda:templateId/@extension</column>
    <column name="PatientDataCode">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.1']/cda:code/@code</column>
    <column name="PatientDataCodeSystem">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.1']/cda:code/@codeSystem</column>
    <column name="PatientDataTitle">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.1']/cda:title</column>
    <column name="PatientDataText" isNarrative="true">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.1']/cda:text</column>
  </group>

  <!--  Author and Authoring Device Details-->
  <group tableName="Author" columnPrefix="Author" context="/cda:ClinicalDocument/cda:author">
     <column name="time">cda:time</column>
     <column name="IdRoot">cda:assignedAuthor/cda:id/@root</column>
     <column name="IdExcention">cda:assignedAuthor/cda:id/@extension</column>
     <column name="GivenName">cda:assignedAuthor/cda:assignedPerson/cda:name/cda:given</column>
     <column name="FamilyName">cda:assignedAuthor/cda:assignedPerson/cda:name/cda:family</column>
     <column name="StreetAddress">cda:assignedAuthor/cda:addr/cda:streetAddressLine</column>
     <column name="City">cda:assignedAuthor/cda:addr/cda:city</column>
     <column name="State">cda:assignedAuthor/cda:addr/cda:state</column>
     <column name="PostalCode">cda:assignedAuthor/cda:addr/cda:postalCode</column>
     <column name="Country">cda:assignedAuthor/cda:addr/cda:country</column>
     <column name="TelecomType">cda:assignedAuthor/cda:telecom/@use</column>
     <column name="TelecomNumber">cda:assignedAuthor/cda:telecom/@value</column>
     <column name="DeviceName">cda:assignedAuthor/cda:assignedAuthoringDevice/cda:manufacturerModelName</column>
     <column name="DeviceSoftware">cda:assignedAuthor/cda:assignedAuthoringDevice/cda:softwareName</column>
  </group>
  
  <!-- Payment Source Template Id 2.16.840.1.113883.10.20.24.3.55 -->
  <group tableName="paymentSources" columnPrefix="Payment Source" context="//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.55']">  
    <column name="TemplateId">cda:templateId/@root</column>
    <column name="TemplateIdExtension">cda:templateId/@extension</column>
    <column name="IdRoot">cda:id/@root</column>
    <column name="Code">cda:code/@code</column>
    <column name="Display">cda:code/@displayName</column>
    <column name="CodeSystem">cda:code/@codeSystem</column>
    <column name="CodeSystemName">cda:code/@codeSystemName</column>
    <column name="StatusCode">cda:statusCode/@code</column>
    <column name="StartDateTime">cda:effectiveTime/cda:low/@value</column>
    <column name="EndDateTime">cda:effectiveTime/cda:high/@value</column>
    <column name="ValueCode">cda:value/@code</column>
    <column name="ValueDisplay">cda:value/@displayName</column>
    <column name="ValueCodeSystem">cda:value/@codeSystem</column>
    <column name="ValueCodeSystemName">cda:value/@codeSystemName</column>
    <column name="ValueValueSet">cda:value/@sdtc:valueSet</column>
  </group>  
  
  <group tableName="measureSection" context="/cda:ClinicalDocument">
    <!-- Measures Section Details -->
    <column name="MeasureSectionTemplateId">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.2']/cda:templateId/@root</column>
    <column name="MeasureSectionCode">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.2']/cda:code/@code</column>
    <column name="MeasureSectionCodeSystem">cda:component/cda:structuredBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.2']/cda:code/@codeSystem</column>
    <column name="MeasureSectionText" isNarrative="true">cda:component/cda:structureBody/cda:component/cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.24.2.2']/cda:text</column>
  
    <!-- Individual Measure Details-->
    <group tableName="measureReference" columnPrefix="Measure Details" context="//cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.98']">
      <column name="idRoot" heading="Id Root">cda:id/@root</column>
      <column name="statusCode" heading="Status Code">cda:statusCode</column>
      <column name="text" heading="Text" isNarrative="true">cda:reference/cda:externalDocument/cda:text</column>
      <column name="version" heading="Version">cda:reference/cda:externalDocument/cda:versionNumber</column>
      <column name="setIdRoot" heading="Set ID Root">cda:reference/cda:externalDocument/cda:setId/@root</column>
      <column name="neutralIdentifier" heading="Neutral Identifier">cda:reference/cda:externalDocument/cda:id[@root ='2.16.840.1.113883.4.738']/@extension</column>
      <column name="nqfEMeasureNumber" heading="NQF EMeasure Number">cda:reference/cda:externalDocument/cda:id[@root ='2.16.840.1.113883.3.560.1']/@extension</column>
      <column name="matNumber" heading="MAT Number">cda:reference/cda:externalDocument/cda:id[@root ='2.16.840.1.113883.3.560.101.2']/@extension</column>
    </group>
  </group>
  
  <!-- Medications Administered Act Template Id 2.16.840.1.113883.10.20.24.3.42 -->
  <group tableName="medicationAdministration" columnPrefix="Med Admin" context="//cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.42']">
     <column name="TemplateId" heading="Template ID">cda:templateId/@root</column>
     <column name="TemplateIdExtension">cda:templateId/@extension</column>
     <column name="IdRoot">cda:id/@root</column>
     <column name="Code" heading="Code">cda:code/@code</column>
     <column name="CodeSystem">cda:code/@codeSystem</column>
     <column name="CodeSystemName">cda:code/@codeSystemName</column>
     <column name="CodeDisplay">cda:code/@displayName</column>
     <column name="StatusCode">cda:statusCode/@code</column>
     <column name="StartDate">cda:effectiveTime/cda:low/@value</column>
     <column name="EndDate">cda:effectiveTime/cda:high/@value</column>  
     <!-- Substance Administration Template Id 2.16.840.1.113883.10.20.22.4.16 -->
    <column name="SubstanceAdminTemplateId">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:templateId/@root</column>
    <column name="SubstanceAdminTempIdExtension">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:templateId/@extension</column>
    <column name="SubstanceAdminId">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:id/@root</column>
    <column name="SubstanceAdminStatusCode">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:statusCode/@code</column>
    <column name="SubstanceAdminStartDateTime">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:effectiveTime/cda:low/@value</column>
    <column name="SubstanceAdminEndDateTime">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:effectiveTime/cda:high/@value</column>
    <column name="SubstanceAdminDoseQuantity">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:doseQuantity</column>
    <!-- Manufactured Product Template Id 2.16.840.1.113883.10.20.22.4.23 -->
     <column name="MedicationTempId">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:templateId/@root</column>
     <column name="MedicationTempIdExtension">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:templateId/@extension</column>
     <column name="MedicationCode">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manfacturedMaterial/cda:code/@code</column>
     <column name="MedicationCodeSystem">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@codesystem</column>
     <column name="MedicationCodeSystemName">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@codesystemName</column>
     <column name="MedicationDisplayName">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@displayName</column>
     <column name="MedicationValueSet">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@sdtc:valueSet</column>
  </group>
  
  <!-- Discharge Medications Template Id 2.16.840.1.113883.10.20.24.3.105 -->
  <group tableName="dischargeMedications" columnPrefix="Discharge Medications" context="//cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.105']">
    <column name="TemplateId">cda:templateId/@root</column>
    <column name="TemplateIdExtension">cda:templateId/@extension</column>
    <column name="IdRoot">cda:id/@root</column>
    <column name="Code">cda:code/@code</column>
    <column name="CodeSystem">cda:code/@codeSystem</column>
    <column name="CodeSystemName">cda:code/@codeSystemName</column>
    <column name="CodeDisplay">cda:code/@displayName</column>
    <column name="StatusCode">cda:statusCode/@code</column>
    <column name="StartDate">cda:effectiveTime/cda:low/@value</column>
    <column name="EndDate">cda:effectiveTime/cda:high/@value</column>
    <!-- Substance Administration Template Id 2.16.840.1.113883.10.20.22.4.16 -->
    <column name="SubstanceAdminTemplateId">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:templateId/@root</column>
    <column name="SubstanceAdminTempIdExtension">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:templateId/@extension</column>
    <column name="SubstanceAdminId">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:id/@root</column>
    <column name="SubstanceAdminStatusCode">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:statusCode/@code</column>
    <column name="SubstanceAdminStartDateTime">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:effectiveTime/cda:low/@value</column>
    <column name="SubstanceAdminEndDateTime">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:effectiveTime/cda:high/@value</column>
    <column name="SubstanceAdminDoseQuantity">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:doseQuantity</column>
    <!-- Manufactured Product Template Id 2.16.840.1.113883.10.20.22.4.23 -->
    <column name="MedicationTempId">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:templateId/@root</column>
    <column name="MedicationTempIdExtension">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:templateId/@extension</column>
    <column name="MedicationCode">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@code</column>
    <column name="MedicationCodeSystem">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@codesystem</column>
    <column name="MedicationCodeSystemName">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@codesystemName</column>
    <column name="MedicationDisplayName">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@displayName</column>
    <column name="MedicationValueSet">cda:entryRelationship/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']/cda:consumable/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']/cda:manufacturedMaterial/cda:code/@sdtc:valueSet</column>
  </group>
  
  <!-- Problem Concern Act Template Id 2.16.840.1.113883.10.20.22.4.3 -->
  <group tableName="problemConcern" columnPrefix="Problem Observations" context="//cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.3']">
    <column name="ProblemTemplateId">cda:templateId/@root</column>
    <column name="ProblemTemplateIdExtension">cda:templateId/@extension</column>
    <column name="ProblemId">cda:id/@root</column>
    <column name="ProblemCode">cda:code/@code</column>
    <column name="ProblemCodeSystem">cda:code/@codeSystem</column>
    <column name="ProblemCodeDisplay">cda:code/@displayName</column>
    <column name="ProblemStatusCode">cda:statusCode/@code</column>
    <column name="ProblemStartDateTime">cda:effectiveTime/cda:low/@value</column>
    <column name="ProblemEndDateTime">cda:effectiveTime/cda:high/@value</column>
    <!-- Problem Observation Template Id 2.16.840.1.113883.10.20.22.4.4 -->
    <column name="ProblemObsTemplateId">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:templateId/@root</column>
    <column name="ProblemObsTemplateIdExtension">/cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:templateId/@extension</column>
    <column name="ProblemObsId">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:id/@root</column>
    <column name="ProblemObsCode">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:code/@code</column>
    <column name="ProblemObsCodeSystem">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:code/@codeSystem</column>
    <column name="ProblemObsCodeDisplay">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:code/@displayName</column>
    <column name="ProblemObsStatusCode">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:statusCode/@code</column>
    <column name="ProblemObsStartDateTime">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:effectiveTime/cda:low/@value</column>
    <column name="ProblemObsEndDateTime">cda:entryRelationship/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']/cda:effectiveTime/cda:high/@value</column>
  </group>
  
  <!-- Procedure Performed Id's 2.16.840.1.113883.10.20.22.4.14 and 2.16.840.1.113883.10.20.24.3.64 -->
  <group tableName="procedurePerformed" columnPrefix="Procedure Performed" context="//cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14']">  
    <column name="TemplateId">cda:templateId/@root</column>
    <column name="TemplateIdExtension">cda:templateId/@extension</column>
    <column name="IdRoot">cda:id/@root</column>
    <column name="Code">cda:code/@code</column>
    <column name="Display">cda:code/@displayName</column>
    <column name="CodeSystem">cda:code/@codeSystem</column>
    <column name="StatusCode">cda:statusCode/@code</column>
    <column name="StartDateTime">cda:effectiveTime/cda:low/@value</column>
    <column name="EndDateTime">cda:effectiveTime/cda:high/@value</column>
  </group>  
  
  <!-- Procedure Activity Observation Id 2.16.840.1.113883.10.20.22.4.13-->
  <group tableName="procedureActivity" columnPrefix="Procedure Activity" context="//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.13']">  
    <column name="TemplateId">cda:templateId/@root</column>
    <column name="TemplateIdExtension">cda:templateId/@extension</column>
    <column name="IdRoot">cda:id/@root</column>
    <column name="Code">cda:code/@code</column>
    <column name="Display">cda:code/@displayName</column>
    <column name="CodeSystem">cda:code/@codeSystem</column>
    <column name="CodeSystemName">cda:code/@codeSystemName</column>
    <column name="StatusCode">cda:statusCode/@code</column>
    <column name="StartDateTime">cda:effectiveTime/cda:low/@value</column>
    <column name="EndDateTime">cda:effectiveTime/cda:high/@value</column>
    <column name="ValueCode">cda:value/@code</column>
    <column name="ValueDisplay">cda:value/@displayName</column>
    <column name="ValueCodeSystem">cda:value/@codeSystem</column>
    <column name="ValueCodeSystemName">cda:value/@codeSystemName</column>
    <column name="ValueValueSet">cda:value/@sdtc:valueSet</column>
  </group>  
  
  <!-- Encounter Performed Id 2.16.840.1.113883.10.20.24.3.133 -->
  <group tableName="encounterPerformed" columnPrefix="Encounter Performed" context="//cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.133']">
    <column name="TemplateId">cda:templateId/@root</column>
    <column name="IdRoot">cda:id/@root</column>
    <column name="Code">cda:code/@code</column>
    <column name="CodeSystem">cda:code/@codeSystem</column>
    <column name="CodeSystemName">cda:code/@codeSystemName</column>
    <column name="CodeDisplayName">cda:code/@displayName</column>
    <!-- Encounter Activities Id 2.16.840.1.113883.10.20.22.4.49 --> 
    <column name="EncActivityTemplateId">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:templateId/@root</column>
    <column name="EncActivityTempIdExtension">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:templateId/@extension</column>
    <column name="EncActivityId">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:id/@root</column>
    <column name="EncActivityCode">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:code/@code</column>
    <column name="EncActivityCodeSystem">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:code/@codeSystem</column>
    <column name="EncActivityCodeSystemName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:code/@codeSystemName</column>
    <column name="EncActivityCodeDisplayName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:code/@displayName</column>
    <column name="EncActivityCodeValueSet">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:code/@sdtc:valueSet</column>
    <column name="EncActivityStatusCode">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:statusCode/@code</column>
    <column name="EncActivityStartDate">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:effectiveTime/cda:low/@value</column>
    <column name="EncActivityEndDate">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:effectiveTime/cda:high/@value</column>
    <!-- Facility Location Id 2.16.840.1.113883.10.20.24.3.100 --> 
    <column name="EncParticipantTemplateId">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:templateId/@root</column>
    <column name="EncParticipantStartDateTime">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:time/cda:low/@value</column>
    <column name="EncParticipantEndDateTime">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:time/cda:high/@value</column>
    <column name="EncParticipantCode">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:participantRole/cda:code/@code</column> 
    <column name="EncParticipantCodeSystem">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:participantRole/cda:code/@codeSystem</column>
    <column name="EncParticipantCodeSystemName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:participantRole/cda:code/@codeSystemName</column> 
    <column name="EncParticipantCodeDisplayName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:participantRole/cda:code/@displayName</column> 
    <column name="EncParticipantTelecom">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']/cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.100']/cda:participantRole/cda:telecom</column> 
  </group>
  
  <!-- Encounter Order Act Id 2.16.840.1.113883.10.20.24.3.132-->
  <group tableName="encounterOrder" columnPrefix="Encounter Ordered" context="//cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.132']">
    <column name="TemplateId">cda:templateId/@root</column>
    <column name="IdRoot">cda:Id/@root</column>
    <column name="Code">cda:code/@code</column>
    <column name="CodeDisplayName">cda:code/@displayName</column>
    <column name="CodeSystem">cda:code/@codeSystem</column>
    <column name="CodeSystemName">cda:code/@codeSystemName</column>
    <!-- Planned Encounter Id 2.16.840.1.113883.10.20.22.4.40 --> 
    <column name="EncPlannedTemplateId">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:templateId/@root</column>
    <column name="EncPlannedTempIdExtension">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:templateId/@extension</column>
    <column name="EncPlannedId">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:Id/@root</column>
    <column name="EncPlannedCode">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:code/@code</column>
    <column name="EncPlannedCodeSystem">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:code/@codeSystem</column>
    <column name="EncPlannedCodeSystemName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:code/@codeSystemName</column>
    <column name="EncPlannedCodeDisplayName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:code/@displayName</column>
    <column name="EncPlannedCodeValueSet">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:code/@sdtc:valueSet</column>
    <column name="EncPlannedText">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:rwzr</column>
    <column name="EncPlannedStatusCode">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:statusCode/@code</column>
    <column name="EncPlannedStartDate">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:effectiveTime/cda:low/@value</column>
    <column name="EncPlannedEndDate">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:effectiveTime/cda:high/@value</column>
    <!-- Author Participation Id 2.16.840.1.113883.10.20.22.4.119 --> 
    <column name="AuthorTemplateId">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:templateId/@root</column>
    <column name="EncParticipantStartDateTime">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:time/@value</column>
    <column name="EncParticipantEndDateTime">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:assignedAuthor/id</column>
    <column name="EncParticipantCode">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:assignedAuthor/cda:code/@code</column> 
    <column name="EncParticipantCodeSystem">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:assignedAuthor/cda:code/@codeSystem</column>
    <column name="EncParticipantCodeSystemName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:assignedAuthor/cda:code/@codeSystemName</column> 
    <column name="EncParticipantCodeDisplayName">cda:entryRelationship/cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']/cda:author[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.119']/cda:assignedAuthor/cda:code/@displayName</column> 
  </group>
</config>